(this.webpackJsonpxsolla_react=this.webpackJsonpxsolla_react||[]).push([[0],{25:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(18),i=c.n(s),o=(c(25),c(20)),r=c(5),l=c(3),u=c.p+"static/media/favorite.405cea49.svg",j=c.p+"static/media/isFavorite.e1bc097d.svg",b=c(0);var d=function(e){var t=e.name,c=e.date,a=e.image,s=n.a.useState(!1),i=Object(l.a)(s,2),o=i[0],r=i[1],d=c.split(".");return Object(b.jsxs)("div",{className:"content__block",children:[Object(b.jsx)("img",{className:"block__image",src:a,alt:"Rave Autumn"}),Object(b.jsxs)("div",{className:"block__utils",children:[Object(b.jsx)("div",{className:"block__number",children:d[0]}),Object(b.jsx)("img",{onClick:function(){r(!o)},src:!1===o?u:j,alt:"save",className:"block__favorites"}),Object(b.jsx)("p",{className:"block__name",children:t})]})]})},m=c.p+"static/media/arrow.c381148f.svg";var f=function(e){var t=e.type,c=e.options,a=n.a.useState(0),s=Object(l.a)(a,2),i=s[0],o=s[1],r=n.a.useState(!1),u=Object(l.a)(r,2),j=u[0],d=u[1],f=n.a.useRef(),p=function(e){e.path.includes(f.current)||d(!1)};return n.a.useEffect((function(){d(j)}),[j]),n.a.useEffect((function(){document.body.addEventListener("click",p)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[t,": "]}),Object(b.jsxs)("div",{className:"menu__city",children:[Object(b.jsx)("span",{children:c[i]}),Object(b.jsx)("img",{className:!0===j?"flip":"",onClick:function(){d(!j)},src:m,alt:"\u02ec"})]}),j&&Object(b.jsx)("div",{ref:f,className:"menu__popup",children:c.map((function(e,t){return Object(b.jsx)("p",{onClick:function(){return function(e){o(e),d(!1)}(t)},children:e},"".concat(e,"__").concat(t))}))})]})},p=c(19),v=c.n(p);var O=function(){var e=n.a.useState([]),t=Object(l.a)(e,2),c=t[0],a=t[1],s=n.a.useState([]),i=Object(l.a)(s,2),u=i[0],j=i[1],m=n.a.useState([]),p=Object(l.a)(m,2),O=p[0],h=p[1];return n.a.useEffect((function(){v.a.get("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json").then((function(e){var t=e.data;console.log("items",Object(r.a)(t)),a(Object(r.a)(t))}))}),[]),n.a.useEffect((function(){var e=[];for(var t in c)for(var a in c[t])"city"===a&&e.push(c[t].city);e=Object(r.a)(new Set(e)),h(e),console.log(e)}),[c]),n.a.useEffect((function(){var e=[],t=["January","February","March","April","May","June","July","August","September","October","November","December"];for(var a in c)for(var n in c[a])"date"===n&&e.push(c[a].date);e.map((function(t,c){e[c]=t.split(".")})),e.map((function(t,c){e[c]=new Date(t[2],t[1]-1,t[0])})),console.log("date",e),e.map((function(c,a){e[a]=t[c.getMonth()]})),e=Object(r.a)(new Set(e)),j(e),console.log("date",e)}),[c]),Object(b.jsx)("div",{className:"page",children:Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("p",{className:"header",children:"Event Listing"}),Object(b.jsxs)("nav",{className:"menu",children:[Object(b.jsx)(f,{type:"City",options:O}),Object(b.jsx)(f,{type:"Month",options:u})]}),Object(b.jsx)("div",{className:"content",children:c.map((function(e,t){return Object(b.jsx)(d,Object(o.a)({},e),"".concat(t,"__").concat(e.name))}))})]})})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.16bf3359.chunk.js.map