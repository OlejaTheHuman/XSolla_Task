(this.webpackJsonpxsolla_react=this.webpackJsonpxsolla_react||[]).push([[0],{25:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(18),i=c.n(s),r=(c(25),c(20)),o=c(8),u=c(3),l=c.p+"static/media/favorite.405cea49.svg",j=c.p+"static/media/isFavorite.e1bc097d.svg",b=c(0);var d=function(e){var t=e.name,c=e.date,a=e.image,s=n.a.useState(!1),i=Object(u.a)(s,2),r=i[0],o=i[1],d=c.split(".");return Object(b.jsxs)("div",{className:"content__block",children:[Object(b.jsx)("img",{className:"block__image",src:a,alt:"Rave Autumn"}),Object(b.jsxs)("div",{className:"block__utils",children:[Object(b.jsx)("div",{className:"block__number",children:d[0]}),Object(b.jsx)("img",{onClick:function(){o(!r)},src:!1===r?l:j,alt:"save",className:"block__favorites"}),Object(b.jsx)("p",{className:"block__name",children:t})]})]})},f=c.p+"static/media/arrow.c381148f.svg";var m=function(e){var t=e.type,c=e.options,a=e.indexState,s=n.a.useState(""),i=Object(u.a)(s,2),r=i[0],o=i[1],l=n.a.useState(!1),j=Object(u.a)(l,2),d=j[0],m=j[1],p=n.a.useRef(),v=function(e){e.path.includes(p.current)||m(!1)};return n.a.useEffect((function(){m(d)}),[d]),n.a.useEffect((function(){document.body.addEventListener("click",v)}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[t,": "]}),Object(b.jsxs)("div",{className:"menu__city",children:[Object(b.jsx)("span",{children:c[r]}),Object(b.jsx)("img",{className:!0===d?"flip":"",onClick:function(){m(!d)},src:f,alt:"\u02ec"})]}),d&&Object(b.jsx)("div",{ref:p,className:"menu__popup",children:c.map((function(e,t){return Object(b.jsx)("p",{onClick:function(){return function(e){a(c[e]),o(e),m(!1)}(t)},children:e},"".concat(e,"__").concat(t))}))})]})},p=c(19),v=c.n(p),O=["January","February","March","April","May","June","July","August","September","October","November","December"];var x=function(){var e=n.a.useState([]),t=Object(u.a)(e,2),c=t[0],a=t[1],s=n.a.useState([]),i=Object(u.a)(s,2),l=i[0],j=i[1],f=n.a.useState([]),p=Object(u.a)(f,2),x=p[0],h=p[1],_=n.a.useState(null),g=Object(u.a)(_,2),N=g[0],y=g[1];return n.a.useEffect((function(){v.a.get("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json").then((function(e){var t=e.data;a(Object(o.a)(t))}))}),[]),n.a.useEffect((function(){var e=[];for(var t in c)for(var a in c[t])"city"===a&&e.push(c[t].city);e=Object(o.a)(new Set(e)),h(e)}),[c]),n.a.useEffect((function(){var e=[];for(var t in c)for(var a in c[t])"date"===a&&e.push(c[t].date);e.map((function(t,c){e[c]=t.split(".")})),e.map((function(t,c){e[c]=new Date(t[2],t[1]-1,t[0])})),e.map((function(t,c){e[c]=O[t.getMonth()]})),e=Object(o.a)(new Set(e)),j(e)}),[c]),Object(b.jsx)("div",{className:"page",children:Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("p",{className:"header",children:"Event Listing"}),Object(b.jsxs)("nav",{className:"menu",children:[Object(b.jsx)(m,{type:"City",options:x,indexState:y}),Object(b.jsx)(m,{type:"Month",options:l,indexState:y})]}),Object(b.jsx)("div",{className:"content",children:c.map((function(e,t){return(+e.date.split(".")[1]===O.indexOf(N)+1||e.city===N)&&Object(b.jsx)(d,Object(r.a)({},e),"".concat(t,"__").concat(e.name))}))})]})})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.bfb9e897.chunk.js.map